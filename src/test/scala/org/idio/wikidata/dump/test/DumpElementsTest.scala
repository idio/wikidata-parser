package org.idio.wikidata.dump.test

import org.scalatest._

import org.idio.wikidata.dump.element.{Property, Item, DumpElement}

class DumpElementsTest extends FlatSpec with ShouldMatchers{

  "DumpElement" should "get a DumpItem out of a topic" in{
    val shigeruMiyamoyo = """{"id":"Q12382","type":"item","aliases":{"de":[{"language":"de","value":"Miyamoto Shigeru"}]},"descriptions":{"fr":{"language":"fr","value":"cr\u00e9ateur japonais de jeu vid\u00e9o"},"it":{"language":"it","value":"autore di videogiochi giapponese"},"en":{"language":"en","value":"Japanese video game designer and producer"},"es":{"language":"es","value":"dise\u00f1ador de videojuegos"},"ja":{"language":"ja","value":"\u65e5\u672c\u306e\u30b2\u30fc\u30e0\u30af\u30ea\u30a8\u30a4\u30bf\u30fc"},"pt":{"language":"pt","value":"produtor e designer japon\u00eas de jogos eletr\u00f4nicos"},"de":{"language":"de","value":"japanischer Computerspielentwickler und Manager"},"ru":{"language":"ru","value":"\u044f\u043f\u043e\u043d\u0441\u043a\u0438\u0439 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u0432\u0438\u0434\u0435\u043e\u0438\u0433\u0440 (\u0433\u0435\u0439\u043c\u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440) \u0438 \u043f\u0440\u043e\u0434\u044e\u0441\u0435\u0440 Nintendo"}},"labels":{"fr":{"language":"fr","value":"Shigeru Miyamoto"},"en":{"language":"en","value":"Shigeru Miyamoto"},"de":{"language":"de","value":"Shigeru Miyamoto"},"it":{"language":"it","value":"Shigeru Miyamoto"},"ar":{"language":"ar","value":"\u0634\u064a\u063a\u064a\u0631\u0648 \u0645\u064a\u0627\u0645\u0648\u062a\u0648"},"ca":{"language":"ca","value":"Shigeru Miyamoto"},"da":{"language":"da","value":"Shigeru Miyamoto"},"el":{"language":"el","value":"\u03a3\u03b9\u03b3\u03ba\u03ad\u03c1\u03bf\u03c5 \u039c\u03b9\u03b3\u03b9\u03b1\u03bc\u03cc\u03c4\u03bf"},"es":{"language":"es","value":"Shigeru Miyamoto"},"eu":{"language":"eu","value":"Shigeru Miyamoto"},"fa":{"language":"fa","value":"\u0634\u06cc\u06af\u0631\u0648 \u0645\u06cc\u0627\u0645\u0648\u062a\u0648"},"fi":{"language":"fi","value":"Shigeru Miyamoto"},"gl":{"language":"gl","value":"Shigeru Miyamoto"},"he":{"language":"he","value":"\u05e9\u05d9\u05d2\u05e8\u05d5 \u05de\u05d9\u05d0\u05de\u05d5\u05d8\u05d5"},"hu":{"language":"hu","value":"Mijamoto Sigeru"},"is":{"language":"is","value":"Shigeru Miyamoto"},"ja":{"language":"ja","value":"\u5bae\u672c\u8302"},"ko":{"language":"ko","value":"\ubbf8\uc57c\ubaa8\ud1a0 \uc2dc\uac8c\ub8e8"},"la":{"language":"la","value":"Shigeru Miyamoto"},"nl":{"language":"nl","value":"Shigeru Miyamoto"},"pl":{"language":"pl","value":"Shigeru Miyamoto"},"pt":{"language":"pt","value":"Shigeru Miyamoto"},"ro":{"language":"ro","value":"Shigeru Miyamoto"},"ru":{"language":"ru","value":"\u0421\u0438\u0433\u044d\u0440\u0443 \u041c\u0438\u044f\u043c\u043e\u0442\u043e"},"sv":{"language":"sv","value":"Shigeru Miyamoto"},"th":{"language":"th","value":"\u0e0a\u0e34\u0e40\u0e07\u0e30\u0e23\u0e38 \u0e21\u0e34\u0e22\u0e30\u0e42\u0e21\u0e30\u0e42\u0e15\u0e30"},"tr":{"language":"tr","value":"Shigeru Miyamoto"},"uk":{"language":"uk","value":"\u0421\u0456\u0433\u0435\u0440\u0443 \u041c\u0456\u044f\u043c\u043e\u0442\u043e"},"vi":{"language":"vi","value":"Miyamoto Shigeru"},"zh":{"language":"zh","value":"\u5bab\u672c\u8302"},"be":{"language":"be","value":"\u0421\u0456\u0433\u044d\u0440\u0443 \u041c\u0456\u044f\u043c\u043e\u0442\u0430"},"pt-br":{"language":"pt-br","value":"Shigeru Miyamoto"},"oc":{"language":"oc","value":"Shigeru Miyamoto"},"nb":{"language":"nb","value":"Shigeru Miyamoto"},"cs":{"language":"cs","value":"Shigeru Miyamoto"},"id":{"language":"id","value":"Shigeru Miyamoto"},"sco":{"language":"sco","value":"Shigeru Miyamoto"}},"claims":{"P19":[{"id":"q12382$E31F530C-BC23-400E-BF33-EE1E1C8015D2","mainsnak":{"snaktype":"value","property":"P19","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":3490674},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P21":[{"id":"q12382$660241C7-2899-4854-A109-2BDDB89C0FAC","mainsnak":{"snaktype":"value","property":"P21","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":6581097},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P69":[{"id":"q12382$7885ADFD-74D2-49E7-8210-FCA7EEBA5897","mainsnak":{"snaktype":"value","property":"P69","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":276599},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P27":[{"id":"q12382$A7711015-0BED-4FBC-B4CF-5CB651D1987A","mainsnak":{"snaktype":"value","property":"P27","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":17},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P109":[{"id":"q12382$F3555413-A7FF-49E7-9522-0336D36B27AF","mainsnak":{"snaktype":"value","property":"P109","datatype":"commonsMedia","datavalue":{"value":"Miyamoto signature.png","type":"string"}},"type":"statement","rank":"normal"}],"P18":[{"id":"q12382$AD89167B-0599-4810-9CD8-78C11635A754","mainsnak":{"snaktype":"value","property":"P18","datatype":"commonsMedia","datavalue":{"value":"Shigeru Miyamoto GDC 2007.jpg","type":"string"}},"type":"statement","rank":"normal"}],"P108":[{"id":"q12382$ACF4FAA0-4960-4D32-B862-DAB782A8ADBB","mainsnak":{"snaktype":"value","property":"P108","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":8093},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P101":[{"id":"q12382$CC3DA39C-5C2A-48C4-A2C0-75984F2DF5CA","mainsnak":{"snaktype":"value","property":"P101","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":7889},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P373":[{"id":"q12382$5A09908F-257D-4EB9-81B9-752CA8132AE5","mainsnak":{"snaktype":"value","property":"P373","datatype":"string","datavalue":{"value":"Shigeru Miyamoto","type":"string"}},"type":"statement","rank":"normal"}],"P214":[{"id":"q12382$CFE06744-A381-42A6-A544-1D7AB8C616AA","mainsnak":{"snaktype":"value","property":"P214","datatype":"string","datavalue":{"value":"78191821","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"7eb64cf9621d34c54fd4bd040ed4b61a88c4a1a0","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":328},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"004ec6fbee857649acdbdbad4f97b2c8571df97b","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48183},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P434":[{"id":"q12382$86C112C6-6147-4450-AA04-984D7B113A2D","mainsnak":{"snaktype":"value","property":"P434","datatype":"string","datavalue":{"value":"1927f310-fbbc-44ad-bf1b-9dffd86e63dc","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"cc53937a15e6b6d1d36a4ea24bf2674d2fd4e2a5","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":14005},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P244":[{"id":"q12382$68B2B016-BBCF-4350-86A4-180CB22BEA1C","mainsnak":{"snaktype":"value","property":"P244","datatype":"string","datavalue":{"value":"n2005078155","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"004ec6fbee857649acdbdbad4f97b2c8571df97b","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48183},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P26":[{"id":"q12382$92555d94-4ecf-92d8-77c7-6a81865e2e41","mainsnak":{"snaktype":"value","property":"P26","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":12959049},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P349":[{"id":"q12382$02035BAE-0872-43F0-B0B2-66B6F407190A","mainsnak":{"snaktype":"value","property":"P349","datatype":"string","datavalue":{"value":"00818168","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"004ec6fbee857649acdbdbad4f97b2c8571df97b","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48183},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P569":[{"id":"q12382$ADCAF2FB-77C2-4591-9B5F-4BFBE10A9383","mainsnak":{"snaktype":"value","property":"P569","datatype":"time","datavalue":{"value":{"time":"+00000001952-11-16T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}},"type":"statement","rank":"normal","references":[{"hash":"7eb64cf9621d34c54fd4bd040ed4b61a88c4a1a0","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":328},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"47e5c39012d85adb21c5d29a46cfa3d069ac3b7f","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":177837},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P166":[{"id":"q12382$ABB02E1A-D7C4-489F-B803-0EDDBEC8BF73","mainsnak":{"snaktype":"value","property":"P166","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":13452528},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"f70116eac7f49194478b3025330bfd8dcffa3c69","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":8447},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P31":[{"id":"q12382$9534D4C4-0B9B-4542-A956-9FA978512CF6","mainsnak":{"snaktype":"value","property":"P31","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":5},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"7eb64cf9621d34c54fd4bd040ed4b61a88c4a1a0","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":328},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P910":[{"id":"Q12382$870081CA-A9D7-4433-8C99-8A40E5E00233","mainsnak":{"snaktype":"value","property":"P910","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":8736935},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P646":[{"id":"Q12382$B2630BF3-83AB-4147-90E1-834583F4F4CB","mainsnak":{"snaktype":"value","property":"P646","datatype":"string","datavalue":{"value":"\/m\/0kr7k","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"b923b0d68beb300866b87ead39f61e63ec30d8af","snaks":{"P248":[{"snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":15241312},"type":"wikibase-entityid"}}],"P577":[{"snaktype":"value","property":"P577","datatype":"time","datavalue":{"value":{"time":"+00000002013-10-28T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}}]},"snaks-order":["P248","P577"]}]}],"P1273":[{"id":"Q12382$8E865DAD-55D3-4CAF-A6E7-7AC29A77D8C5","mainsnak":{"snaktype":"value","property":"P1273","datatype":"string","datavalue":{"value":"a10599678","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"0a0f151693476c9c64a969a4d8da2db2f384c7c2","snaks":{"P854":[{"snaktype":"value","property":"P854","datatype":"url","datavalue":{"value":"https:\/\/viaf.org\/viaf\/78191821\/","type":"string"}}]},"snaks-order":["P854"]}]}],"P1343":[{"id":"Q12382$6DF79BBB-D62B-4D96-ADB5-A7D55C7F3A3C","mainsnak":{"snaktype":"value","property":"P1343","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":17290934},"type":"wikibase-entityid"}},"qualifiers":{"P357":[{"hash":"a64f9cfac9bc92ad666fd6a9eaf4140bb1e5e1be","snaktype":"value","property":"P357","datatype":"string","datavalue":{"value":"\u041c\u0438\u044f\u043c\u043e\u0442\u043e, \u0421\u0438\u0433\u044d\u0440\u0443","type":"string"}}],"P248":[{"hash":"c17ee748901381c851c48a3998793c795cc59889","snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":17316858},"type":"wikibase-entityid"}}]},"qualifiers-order":["P357","P248"],"type":"statement","rank":"normal"}],"P106":[{"id":"Q12382$A67191C0-EBA4-4D61-B353-1D84EB68F7D6","mainsnak":{"snaktype":"value","property":"P106","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":5322166},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]},{"id":"Q12382$D8DEEAEC-8885-43DB-9D66-BBAF6E20205C","mainsnak":{"snaktype":"value","property":"P106","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":5482740},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"527e37d09f6b28f81ecbcbfa85dc4b79d783b297","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48952},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]},{"id":"Q12382$9A3F1BD3-73BD-4453-81CC-C1A57F0691EB","mainsnak":{"snaktype":"value","property":"P106","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":483501},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"527e37d09f6b28f81ecbcbfa85dc4b79d783b297","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48952},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P735":[{"id":"Q12382$CB7C1001-EBFD-42E7-92AC-D33AA7BBF7E3","mainsnak":{"snaktype":"value","property":"P735","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":2278737},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"47e5c39012d85adb21c5d29a46cfa3d069ac3b7f","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":177837},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P734":[{"id":"Q12382$0E7C75FD-B60C-42F9-B6A8-8924F500F165","mainsnak":{"snaktype":"value","property":"P734","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":1940945},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P800":[{"id":"Q12382$44F48515-9CA5-4223-A943-BC5D83E3DC80","mainsnak":{"snaktype":"value","property":"P800","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":12379},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"},{"id":"Q12382$A2282FC3-D737-4430-8D6F-03A4EE8C6B92","mainsnak":{"snaktype":"value","property":"P800","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":210593},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"},{"id":"Q12382$959F6DD5-1872-4B5C-A83F-C7BB612374C6","mainsnak":{"snaktype":"value","property":"P800","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":507001},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P650":[{"id":"Q12382$91C11399-D86A-44C3-8201-428432DA66AB","mainsnak":{"snaktype":"value","property":"P650","datatype":"string","datavalue":{"value":"268592","type":"string"}},"type":"statement","rank":"normal"}]},"sitelinks":{"frwiki":{"site":"frwiki","title":"Shigeru Miyamoto","badges":[]},"arwiki":{"site":"arwiki","title":"\u0634\u064a\u063a\u064a\u0631\u0648 \u0645\u064a\u0627\u0645\u0648\u062a\u0648","badges":[]},"cawiki":{"site":"cawiki","title":"Shigeru Miyamoto","badges":[]},"dawiki":{"site":"dawiki","title":"Shigeru Miyamoto","badges":[]},"dewiki":{"site":"dewiki","title":"Shigeru Miyamoto","badges":[]},"elwiki":{"site":"elwiki","title":"\u03a3\u03b9\u03b3\u03ba\u03ad\u03c1\u03bf\u03c5 \u039c\u03b9\u03b3\u03b9\u03b1\u03bc\u03cc\u03c4\u03bf","badges":[]},"enwiki":{"site":"enwiki","title":"Shigeru Miyamoto","badges":[]},"eswiki":{"site":"eswiki","title":"Shigeru Miyamoto","badges":[]},"euwiki":{"site":"euwiki","title":"Shigeru Miyamoto","badges":[]},"fawiki":{"site":"fawiki","title":"\u0634\u06cc\u06af\u0631\u0648 \u0645\u06cc\u0627\u0645\u0648\u062a\u0648","badges":[]},"fiwiki":{"site":"fiwiki","title":"Shigeru Miyamoto","badges":[]},"glwiki":{"site":"glwiki","title":"Shigeru Miyamoto","badges":[]},"hewiki":{"site":"hewiki","title":"\u05e9\u05d9\u05d2\u05e8\u05d5 \u05de\u05d9\u05d0\u05de\u05d5\u05d8\u05d5","badges":[]},"huwiki":{"site":"huwiki","title":"Mijamoto Sigeru","badges":[]},"iswiki":{"site":"iswiki","title":"Shigeru Miyamoto","badges":[]},"itwiki":{"site":"itwiki","title":"Shigeru Miyamoto","badges":[]},"jawiki":{"site":"jawiki","title":"\u5bae\u672c\u8302","badges":[]},"kowiki":{"site":"kowiki","title":"\ubbf8\uc57c\ubaa8\ud1a0 \uc2dc\uac8c\ub8e8","badges":[]},"lawiki":{"site":"lawiki","title":"Shigeru Miyamoto","badges":[]},"nlwiki":{"site":"nlwiki","title":"Shigeru Miyamoto","badges":[]},"nowiki":{"site":"nowiki","title":"Shigeru Miyamoto","badges":[]},"plwiki":{"site":"plwiki","title":"Shigeru Miyamoto","badges":[]},"ptwiki":{"site":"ptwiki","title":"Shigeru Miyamoto","badges":[]},"rowiki":{"site":"rowiki","title":"Shigeru Miyamoto","badges":[]},"ruwiki":{"site":"ruwiki","title":"\u041c\u0438\u044f\u043c\u043e\u0442\u043e, \u0421\u0438\u0433\u044d\u0440\u0443","badges":[]},"simplewiki":{"site":"simplewiki","title":"Shigeru Miyamoto","badges":[]},"svwiki":{"site":"svwiki","title":"Shigeru Miyamoto","badges":[]},"thwiki":{"site":"thwiki","title":"\u0e0a\u0e34\u0e40\u0e07\u0e30\u0e23\u0e38 \u0e21\u0e34\u0e22\u0e30\u0e42\u0e21\u0e30\u0e42\u0e15\u0e30","badges":[]},"trwiki":{"site":"trwiki","title":"Shigeru Miyamoto","badges":[]},"ukwiki":{"site":"ukwiki","title":"\u0421\u0456\u0433\u0435\u0440\u0443 \u041c\u0456\u044f\u043c\u043e\u0442\u043e","badges":[]},"viwiki":{"site":"viwiki","title":"Miyamoto Shigeru","badges":[]},"zhwiki":{"site":"zhwiki","title":"\u5bab\u672c\u8302","badges":[]},"ocwiki":{"site":"ocwiki","title":"Shigeru Miyamoto","badges":[]},"dewikiquote":{"site":"dewikiquote","title":"Shigeru Miyamoto","badges":[]},"enwikiquote":{"site":"enwikiquote","title":"Shigeru Miyamoto","badges":[]},"itwikiquote":{"site":"itwikiquote","title":"Shigeru Miyamoto","badges":[]},"hewikiquote":{"site":"hewikiquote","title":"\u05e9\u05d9\u05d2\u05e8\u05d5 \u05de\u05d9\u05d0\u05de\u05d5\u05d8\u05d5","badges":[]},"eswikiquote":{"site":"eswikiquote","title":"Shigeru Miyamoto","badges":[]},"simplewikiquote":{"site":"simplewikiquote","title":"Shigeru Miyamoto","badges":[]},"idwiki":{"site":"idwiki","title":"Shigeru Miyamoto","badges":[]}}} """
    val shigeruMiyamotoDumpElement = DumpElement.parseElement(shigeruMiyamoyo)
    shigeruMiyamotoDumpElement.isDefined should equal(true)
    shigeruMiyamotoDumpElement.get shouldBe a [Item]

    val shigeruMiyamotoTopic = shigeruMiyamotoDumpElement.get.asInstanceOf[Item]

    // Testing Properties
    shigeruMiyamotoTopic.getId() should be (Some("Q12382"))
    shigeruMiyamotoTopic.getType() should be (Some("item"))
    shigeruMiyamotoTopic.getAliases("de") should be (Some("Miyamoto Shigeru"))
    shigeruMiyamotoTopic.getWikipediaReference("en") should be (Some("Shigeru Miyamoto"))


    // Testing Claims
    shigeruMiyamotoTopic.getClaims().size should equal(26)
    shigeruMiyamotoTopic.getRelationshipTuples() should contain( ("P108", "Q8093") )
    shigeruMiyamotoTopic.getRelationshipTuples().map(_._1) should not contain("P109")

  }

  val pokedexPropertyJsonString = """ {"id":"P1685","type":"property","aliases":{"fr":[{"language":"fr","value":"navigateur Pok\u00e9mon"}],"nl":[{"language":"nl","value":"Pokemon-browsernummer"}],"en-gb":[{"language":"en-gb","value":"Pok\u00e9dex number"}]},"descriptions":{"en":{"language":"en","value":"a Pok\u00e9mon identification number"},"fr":{"language":"fr","value":"Num\u00e9ro d'identification du Pok\u00e9mon dans la liste de cr\u00e9atures de la s\u00e9rie Pok\u00e9mon ranger"},"en-gb":{"language":"en-gb","value":"a Pok\u00e9mon identification number"}},"labels":{"en":{"language":"en","value":"Pok\u00e9mon browser number"},"fr":{"language":"fr","value":"num\u00e9ro dans le navigateur Pok\u00e9mon"},"nl":{"language":"nl","value":"Pok\u00e9mon-browsernummer"},"en-gb":{"language":"en-gb","value":"Pok\u00e9mon browser number"},"ru":{"language":"ru","value":"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430"},"hu":{"language":"hu","value":"Pok\u00e9mon b\u00f6ng\u00e9sz\u0151 azonos\u00edt\u00f3"},"pt":{"language":"pt","value":"n\u00famero no navegador Pok\u00e9mon"}},"datatype":"string"} """
  val pokedexPropertyDumpElement = DumpElement.parseElement(pokedexPropertyJsonString)

  "DumpElement" should "get a DumpProperty out of a Property" in{

    pokedexPropertyDumpElement.isDefined should equal(true)
    pokedexPropertyDumpElement.get shouldBe a [Property]

    val pokedexProperty = pokedexPropertyDumpElement.get.asInstanceOf[Property]

    // Testing Properties
    pokedexProperty.getId() should be (Some("P1685"))
    pokedexProperty.getLabel("en") should be (None)
    pokedexProperty.getLabel("fr") should be (Some("navigateur Pok√©mon"))
  }

  "Extracting relationships" should "get all main snaks attached to a property" in {
    val randomJsonString = """{"id":"Q274877","type":"item","aliases":{"fr":[{"language":"fr","value":"Emile Aillaud"}],"en":[{"language":"en","value":"Aillaud, Emile"},{"language":"en","value":"Emile Aillaud"}]},"descriptions":{"it":{"language":"it","value":"architetto francese"},"fr":{"language":"fr","value":"architecte fran\u00e7ais"},"de":{"language":"de","value":"franz\u00f6sischer Architekt"},"fa":{"language":"fa","value":"\u0645\u0639\u0645\u0627\u0631 \u0641\u0631\u0627\u0646\u0633\u0648\u06cc"},"nb":{"language":"nb","value":"fransk arkitekt"},"da":{"language":"da","value":"fransk arkitekt"},"sv":{"language":"sv","value":"fransk arkitekt"},"nn":{"language":"nn","value":"fransk arkitekt"},"en":{"language":"en","value":"Architect"}},"labels":{"fr":{"language":"fr","value":"\u00c9mile Aillaud"},"en":{"language":"en","value":"\u00c9mile Aillaud"},"de":{"language":"de","value":"\u00c9mile Aillaud"},"ja":{"language":"ja","value":"\u30a8\u30df\u30fc\u30eb\u30fb\u30a2\u30e8\u30fc"},"it":{"language":"it","value":"\u00c9mile Aillaud"},"ru":{"language":"ru","value":"\u0410\u0439\u043e, \u042d\u043c\u0438\u043b\u044c"},"nl":{"language":"nl","value":"\u00c9mile Aillaud"},"es":{"language":"es","value":"\u00c9mile Aillaud"},"nb":{"language":"nb","value":"\u00c9mile Aillaud"},"da":{"language":"da","value":"\u00c9mile Aillaud"},"nn":{"language":"nn","value":"\u00c9mile Aillaud"},"sv":{"language":"sv","value":"\u00c9mile Aillaud"}},"claims":{"P21":[{"id":"q274877$C273CA25-86C2-44D1-B7B0-C3737C3AF5C5","mainsnak":{"snaktype":"value","property":"P21","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":6581097},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"a51d6594fee36c7452eaed2db35a4833613a7078","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":54919},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P214":[{"id":"q274877$A76D3089-2871-4B27-AED0-EECF52000CF8","mainsnak":{"snaktype":"value","property":"P214","datatype":"string","datavalue":{"value":"79018779","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"7eb64cf9621d34c54fd4bd040ed4b61a88c4a1a0","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":328},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"004ec6fbee857649acdbdbad4f97b2c8571df97b","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48183},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P213":[{"id":"q274877$3CFADC44-82E7-4E6E-AB90-8AB53E954356","mainsnak":{"snaktype":"value","property":"P213","datatype":"string","datavalue":{"value":"0000 0000 7829 0168","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"500bf0768a4645f1e00ad451f904d3a010fa43ae","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":423048},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P244":[{"id":"q274877$00F60D3D-6FAB-40CB-A3A2-0896535BEF9E","mainsnak":{"snaktype":"value","property":"P244","datatype":"string","datavalue":{"value":"n82238487","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"004ec6fbee857649acdbdbad4f97b2c8571df97b","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48183},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P227":[{"id":"q274877$757C8719-F4D7-4EE8-B07A-74681EC1EFAE","mainsnak":{"snaktype":"value","property":"P227","datatype":"string","datavalue":{"value":"122397215","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"004ec6fbee857649acdbdbad4f97b2c8571df97b","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48183},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P69":[{"id":"q274877$1512418F-E62E-47ED-80B1-8BD0BA3C6011","mainsnak":{"snaktype":"value","property":"P69","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":1878600},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P27":[{"id":"q274877$E5842096-0B69-4713-870C-C825061797FB","mainsnak":{"snaktype":"value","property":"P27","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":142},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P106":[{"id":"q274877$BF19219D-A334-4177-847B-A7296F43CFCB","mainsnak":{"snaktype":"value","property":"P106","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":42973},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P19":[{"id":"q274877$CB80211D-D8C2-4880-A7E6-0B7D2BA512F0","mainsnak":{"snaktype":"value","property":"P19","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":96},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"004ec6fbee857649acdbdbad4f97b2c8571df97b","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":48183},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]},{"id":"q274877$A06CAD57-B9DE-4363-A3E7-3763914D4263","mainsnak":{"snaktype":"value","property":"P19","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":1489},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"774d63c318e3151e34570e9b4de0dd4ba480be9e","snaks":{"P248":[{"snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":36578},"type":"wikibase-entityid"}}],"P813":[{"snaktype":"value","property":"P813","datatype":"time","datavalue":{"value":{"time":"+00000002014-12-13T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}}]},"snaks-order":["P248","P813"]}]}],"P20":[{"id":"q274877$B4E0D062-9D32-456D-9B0C-D14875D5295B","mainsnak":{"snaktype":"value","property":"P20","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":90},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"fbb21c3222342865b80f3cdf6326746439d77a95","snaks":{"P248":[{"snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":36578},"type":"wikibase-entityid"}}],"P813":[{"snaktype":"value","property":"P813","datatype":"time","datavalue":{"value":{"time":"+00000002014-12-31T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}}]},"snaks-order":["P248","P813"]}]}],"P569":[{"id":"q274877$F542D74F-4EDA-4432-B3B6-097C969E0A5F","mainsnak":{"snaktype":"value","property":"P569","datatype":"time","datavalue":{"value":{"time":"+00000001902-01-18T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}},"type":"statement","rank":"normal","references":[{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]},{"hash":"7900716978950d057779b832cc9ed97506154aba","snaks":{"P248":[{"snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":36578},"type":"wikibase-entityid"}}],"P813":[{"snaktype":"value","property":"P813","datatype":"time","datavalue":{"value":{"time":"+00000002014-04-27T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}}]},"snaks-order":["P248","P813"]}]}],"P570":[{"id":"q274877$0AB3CA25-99F6-40C9-8BFA-12D3F8DB3CE9","mainsnak":{"snaktype":"value","property":"P570","datatype":"time","datavalue":{"value":{"time":"+00000001988-12-29T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}},"type":"statement","rank":"normal","references":[{"hash":"7900716978950d057779b832cc9ed97506154aba","snaks":{"P248":[{"snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":36578},"type":"wikibase-entityid"}}],"P813":[{"snaktype":"value","property":"P813","datatype":"time","datavalue":{"value":{"time":"+00000002014-04-27T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}}]},"snaks-order":["P248","P813"]}]}],"P31":[{"id":"Q274877$1D0CE005-EE3E-46AE-BF7F-69C93281AF30","mainsnak":{"snaktype":"value","property":"P31","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":5},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}],"P646":[{"id":"Q274877$F868BD63-A1CD-444F-898E-6E1C911076DB","mainsnak":{"snaktype":"value","property":"P646","datatype":"string","datavalue":{"value":"\/m\/07_dcd","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"b923b0d68beb300866b87ead39f61e63ec30d8af","snaks":{"P248":[{"snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":15241312},"type":"wikibase-entityid"}}],"P577":[{"snaktype":"value","property":"P577","datatype":"time","datavalue":{"value":{"time":"+00000002013-10-28T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}}]},"snaks-order":["P248","P577"]}]}],"P268":[{"id":"Q274877$8C75D966-3E1D-45E0-833F-4DD472B13CB1","mainsnak":{"snaktype":"value","property":"P268","datatype":"string","datavalue":{"value":"11888227v","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"a51d6594fee36c7452eaed2db35a4833613a7078","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":54919},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P735":[{"id":"Q274877$E5046B7E-BAC3-4E31-9216-6C086886F05B","mainsnak":{"snaktype":"value","property":"P735","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":13426635},"type":"wikibase-entityid"}},"type":"statement","rank":"normal","references":[{"hash":"50f57a3dbac4708ce4ae4a827c0afac7fcdb4a5c","snaks":{"P143":[{"snaktype":"value","property":"P143","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":11920},"type":"wikibase-entityid"}}]},"snaks-order":["P143"]}]}],"P245":[{"id":"Q274877$43E2E3E0-3439-4DB5-8BF7-DFFEBBB9CBE9","mainsnak":{"snaktype":"value","property":"P245","datatype":"string","datavalue":{"value":"500031160","type":"string"}},"type":"statement","rank":"normal","references":[{"hash":"f1de16e08e083c90045ae69aa6b8c4a3f70ddcb9","snaks":{"P248":[{"snaktype":"value","property":"P248","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":54919},"type":"wikibase-entityid"}}],"P813":[{"snaktype":"value","property":"P813","datatype":"time","datavalue":{"value":{"time":"+00000002014-12-16T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http:\/\/www.wikidata.org\/entity\/Q1985727"},"type":"time"}}],"P854":[{"snaktype":"value","property":"P854","datatype":"url","datavalue":{"value":"http:\/\/viaf.org\/viaf\/79018779","type":"string"}}]},"snaks-order":["P248","P813","P854"]}]}],"P650":[{"id":"Q274877$5093D065-304B-4CAA-94B6-77924848EE24","mainsnak":{"snaktype":"value","property":"P650","datatype":"string","datavalue":{"value":"128611","type":"string"}},"type":"statement","rank":"normal"}],"P800":[{"id":"Q274877$7FD2003C-6661-426E-8B08-1C1A0E7CB014","mainsnak":{"snaktype":"value","property":"P800","datatype":"wikibase-item","datavalue":{"value":{"entity-type":"item","numeric-id":3231841},"type":"wikibase-entityid"}},"type":"statement","rank":"normal"}]},"sitelinks":{"frwiki":{"site":"frwiki","title":"\u00c9mile Aillaud","badges":[]},"enwiki":{"site":"enwiki","title":"\u00c9mile Aillaud","badges":[]},"dewiki":{"site":"dewiki","title":"\u00c9mile Aillaud","badges":[]},"jawiki":{"site":"jawiki","title":"\u30a8\u30df\u30fc\u30eb\u30fb\u30a2\u30e8\u30fc","badges":[]},"itwiki":{"site":"itwiki","title":"\u00c9mile Aillaud","badges":[]},"ruwiki":{"site":"ruwiki","title":"\u0410\u0439\u043e, \u042d\u043c\u0438\u043b\u044c","badges":[]}}}"""
    val randomTopicElement = DumpElement.parseElement(randomJsonString)
    val randomTopic = randomTopicElement.get.asInstanceOf[Item]
    randomTopic.getId() should be(Some("Q274877"))
    randomTopic.getRelationshipTuples() should contain(("P19", "Q1489")) // Mexico City
    randomTopic.getRelationshipTuples() should contain(("P19", "Q96")) // Mexico
  }
}
